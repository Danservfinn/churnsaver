# Churn Saver Environment Variables Example
# Copy this file to .env.local and update with your actual values
# 
# Quick Start:
#   1. cp env.example .env.local
#   2. Fill in your actual values (especially database and Whop credentials)
#   3. Run: pnpm dev

# ============================================
# Environment
# ============================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# For Docker: postgresql://churn_saver_dev:dev_password@localhost:5432/churn_saver_dev
# For local PostgreSQL: postgresql://churn_saver_dev:dev_password@localhost:5432/churn_saver_dev
DATABASE_URL=postgresql://churn_saver_dev:dev_password@localhost:5432/churn_saver_dev

# ============================================
# Whop Configuration
# ============================================
# Get these values from: https://whop.com/dashboard/developer/
# 1. Create a Whop app in the developer dashboard
# 2. Get your App ID and API Key from the app settings
# 3. Create a webhook and get the webhook secret
NEXT_PUBLIC_WHOP_APP_ID=your_development_app_id
WHOP_APP_ID=your_development_app_id
WHOP_API_KEY=your_development_api_key
WHOP_WEBHOOK_SECRET=your_development_webhook_secret

# Optional: Whop OAuth (if using OAuth flows)
# WHOP_OAUTH_CLIENT_ID=your_oauth_client_id
# WHOP_OAUTH_CLIENT_SECRET=your_oauth_client_secret
# WHOP_OAUTH_REDIRECT_URI=http://localhost:3000/api/auth/callback

# Optional: Whop App Secret (for JWT verification)
# WHOP_APP_SECRET=your_app_secret_for_jwt_verification

# ============================================
# Development Features
# ============================================
# Set to true to allow insecure development settings
ALLOW_INSECURE_DEV=true
DEBUG_MODE=true

# Enable analytics (optional)
# ENABLE_ANALYTICS=false

# ============================================
# Security Configuration
# ============================================
# Generate secure random strings for these (minimum 32 characters)
# For development, you can use: openssl rand -base64 32
JWT_SECRET=your_development_jwt_secret_minimum_32_characters
ENCRYPTION_KEY=your_development_encryption_key_32_characters

# ============================================
# External Services (Optional)
# ============================================
# Redis URL (if using Redis for caching/queues)
# REDIS_URL=redis://localhost:6379

# SMTP Configuration (if sending emails)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your_smtp_username
# SMTP_PASSWORD=your_smtp_password

# ============================================
# Feature Flags (Optional)
# ============================================
# KPI Attribution Window (days)
# KPI_ATTRIBUTION_WINDOW_DAYS=14

# Default Incentive Days
# DEFAULT_INCENTIVE_DAYS=3

# Enable Push Notifications
# ENABLE_PUSH=true

# Enable Direct Messages
# ENABLE_DM=true

# ============================================
# Request Size Limits (Optional)
# ============================================
# MAX_REQUEST_SIZE_DEFAULT_MB=10
# MAX_REQUEST_SIZE_WEBHOOK_MB=5
# MAX_REQUEST_SIZE_UPLOAD_MB=50

# ============================================
# Data Retention (Optional)
# ============================================
# DATA_RETENTION_DAYS=365

# ============================================
# Webhook Configuration (Optional)
# ============================================
# Webhook timestamp skew tolerance (seconds)
# WEBHOOK_TIMESTAMP_SKEW_SECONDS=60

# ============================================
# Reminder Configuration (Optional)
# ============================================
# MAX_REMINDER_CASES_PER_RUN=50
# MAX_CONCURRENT_REMINDER_SENDS=10

